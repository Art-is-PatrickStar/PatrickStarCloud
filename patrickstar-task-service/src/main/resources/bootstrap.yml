spring:
  application:
    name: patrickstar-task-service
  profiles:
    active: dev  # 开发环境
  main:
    allow-bean-definition-overriding: true

  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848  # 配置nacos地址
      config:
        server-addr: localhost:8848  # nacos配置中心地址
        file-extension: yaml  # 配置文件格式
        group: DEFAULT_GROUP
        # 公共配置文件
        ext-config:
          - data-id: patrickstar-${spring.profiles.active}.yaml
            group: DEFAULT_GROUP
            refresh: true  # 是否允许自动刷新

    sentinel:
      eager: true  # 取消控制台懒加载
      transport:
        dashboard: localhost:9090  # sentinel dashboard地址
        port: 8719  # sentinel api port
      # sentinel配置持久化
      datasource:
        ds1:
          nacos:
            server-addr: localhost:8848
            dataId: ${spring.application.name}
            groupId: DEFAULT_GROUP
            data-type: json
            rule-type: flow

  mail:
    host: smtp.qq.com
    username: 2544894086@qq.com
    password: uvfpmqyyzdgleahd
    default-encoding: UTF-8
    properties:
      mail:
        smtp:
          port: 465
          starttls:
            enable: true
            required: true
          ssl:
            enable:
              true
        debug: false

# xxl-job配置
xxl:
  job:
    ### xxl-job admin address list, such as "http://address" or "http://address01,http://address02"
    admin:
      addresses: http://127.0.0.1:8088/xxl-job-admin
    ### xxl-job, access token
    accessToken:
    ### xxl-job executor appname
    executor:
      appname: patrick-star-wsw-task-excutor
      ### xxl-job executor registry-address: default use address to registry , otherwise use ip:port if address is null
      address:
      ### xxl-job executor server-info
      ip:
      port: 9999
      ### xxl-job executor log-path
      logpath: /data/applogs/xxl-job/jobhandler
      ### xxl-job executor log-retention-days
      logretentiondays: 7
